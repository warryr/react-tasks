(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,n){e.exports=n(67)},51:function(e,t,n){},52:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(13),c=n.n(r),i=(n(51),n(19)),s=n(11),l=n(21),u=n(20),d=n(22),m=(n(52),n(27)),h=n(15),p=n(5),b=n(81),C=Object(b.a)(function(e){return{button:{margin:e.spacing(1,2)},h3:{margin:e.spacing(3)}}}),v=n(84),f=n(82),D=n(83),O=function(e){var t=C();return a.a.createElement(v.a,Object.assign({variant:"contained",color:"default",className:t.button},e),e.text)},j=function(e){var t=C();return a.a.createElement(f.a,{fixed:!0},a.a.createElement(D.a,{component:"h1",variant:"h3",className:t.h3},e.value),a.a.createElement(O,{id:"increment",onClick:e.increment,text:"Increment"}),e.ableToDec?a.a.createElement(O,{id:"decrement",onClick:e.decrement,text:"Decrement"}):a.a.createElement(O,{id:"decrement",text:"Decrement",disabled:!0}),a.a.createElement(O,{id:"reset",onClick:e.reset,text:"Reset"}))},k=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).incrementCounter=n.incrementCounter.bind(Object(p.a)(n)),n.decrementCounter=n.decrementCounter.bind(Object(p.a)(n)),n.resetCounter=n.resetCounter.bind(Object(p.a)(n)),n.state={counter:0,ableToDecrement:!1,initialState:!0},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log("Counter "+this.props.id+": render"),a.a.createElement(j,{value:this.state.counter,increment:this.incrementCounter,decrement:this.decrementCounter,reset:this.resetCounter,ableToDec:this.state.ableToDecrement})}},{key:"componentDidMount",value:function(){console.log("Counter "+this.props.id+": componentDidMount")}},{key:"componentWillUnmount",value:function(){console.log("Counter "+this.props.id+": componentWillUnmount")}},{key:"componentDidUpdate",value:function(e,t,n){console.log("Counter "+this.props.id+": componentDidUpdate"),0===this.state.counter&&this.state.ableToDecrement&&this.setState(Object(h.a)({},this.state,{ableToDecrement:!1,initialState:!0}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e,t){return"add"===e.executed?(console.log("Counter "+this.props.id+": UNSAFE_componentWillReceiveProps"),this.state.counter%2===0?this.incrementCounter():void 0):"delete"===e.executed?(console.log("Counter "+this.props.id+": UNSAFE_componentWillReceiveProps"),this.state.counter%2===1?this.decrementCounter():void 0):void(!e.mustReset||this.props.mustReset&&this.state.initialState||(console.log("Counter "+this.props.id+": UNSAFE_componentWillReceiveProps"),this.resetCounter()))}},{key:"shouldComponentUpdate",value:function(e,t,n){var o=t.counter!==this.state.counter||t.ableToDecrement!==this.state.ableToDecrement;return console.log("Counter "+this.props.id+": shouldComponentUpdate: "+o),o}},{key:"incrementCounter",value:function(){this.setState(Object(h.a)({},this.state,{counter:this.state.counter+1,ableToDecrement:!0,initialState:!1,executedOperation:"add"}))}},{key:"decrementCounter",value:function(){this.state.ableToDecrement&&this.setState(Object(h.a)({},this.state,{counter:this.state.counter-1}))}},{key:"resetCounter",value:function(){this.setState(Object(h.a)({},this.state,{counter:0,ableToDecrement:!1,initialState:!0}))}}]),t}(a.a.Component),g=Object(b.a)(function(e){return{button:{margin:e.spacing(1,2)},h4:{margin:e.spacing(3)}}}),y=function(e){var t=g();return a.a.createElement(f.a,{fixed:!0},a.a.createElement(D.a,{component:"h1",variant:"h4",className:t.h4},"Parent Counter"),a.a.createElement(v.a,{variant:"contained",color:"primary",className:t.button,onClick:e.onAdd},"Add counter"),e.ableToDel?a.a.createElement(v.a,{variant:"contained",color:"secondary",className:t.button,onClick:e.onDelete},"Delete first counter"):a.a.createElement(v.a,{variant:"contained",color:"secondary",className:t.button,disabled:!0},"Delete first counter"),a.a.createElement(v.a,{variant:"contained",color:"default",className:t.button,onClick:e.onReset},"Reset counters"))},E=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onAddCounter=n.onAddCounter.bind(Object(p.a)(n)),n.onDeleteCounter=n.onDeleteCounter.bind(Object(p.a)(n)),n.onResetCounters=n.onResetCounters.bind(Object(p.a)(n)),n.state={counters:[{id:1}],lastId:1,ableToDelete:!1,childMustReset:!0,executedOperation:"reset"},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return console.log("Parent: render"),a.a.createElement("div",null,a.a.createElement(y,{onAdd:this.onAddCounter,onDelete:this.onDeleteCounter,onReset:this.onResetCounters,ableToDel:this.state.ableToDelete}),this.state.counters.map(function(t){return 1===t.id?a.a.createElement(k,{key:t.id,id:t.id,mustReset:e.state.childMustReset,executed:e.state.executedOperation}):a.a.createElement(k,{key:t.id,id:t.id,executed:e.state.executedOperation})}))}},{key:"componentDidMount",value:function(){console.log("Parent: componentDidMount")}},{key:"componentWillUnmount",value:function(){console.log("Parent: componentWillUnmount")}},{key:"shouldComponentUpdate",value:function(e,t,n){return console.log("Parent: shouldComponentUpdate"),!0}},{key:"componentDidUpdate",value:function(e,t,n){console.log("Parent: componentDidUpdate"),1===this.state.counters.length&&this.state.ableToDelete&&this.setState(Object(h.a)({},this.state,{ableToDelete:!1}))}},{key:"onAddCounter",value:function(){this.setState(function(e){return{counters:[{id:e.lastId+1}].concat(Object(m.a)(e.counters)),lastId:e.lastId+1,ableToDelete:!0,childMustReset:!1,executedOperation:"add"}})}},{key:"onDeleteCounter",value:function(){this.state.ableToDelete&&this.setState(function(e){var t=e.counters;return t.splice(0,1),console.log("Counter "+e.lastId+" deleted"),Object(h.a)({},e,{counters:t,executedOperation:"delete"})})}},{key:"onResetCounters",value:function(){this.setState(function(){return{counters:[{id:1}],lastId:1,ableToDelete:!1,childMustReset:!0,executedOperation:"reset"}})}}]),t}(a.a.Component),T=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(E,null))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[46,1,2]]]);
//# sourceMappingURL=main.f0f10674.chunk.js.map